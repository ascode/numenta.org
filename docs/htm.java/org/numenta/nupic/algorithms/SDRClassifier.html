<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Wed Jul 27 05:22:31 CDT 2016 -->
<title>SDRClassifier</title>
<meta name="date" content="2016-07-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="SDRClassifier";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SDRClassifier.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/numenta/nupic/algorithms/SampleTest.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/numenta/nupic/algorithms/SDRClassifierTest.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/numenta/nupic/algorithms/SDRClassifier.html" target="_top">Frames</a></li>
<li><a href="SDRClassifier.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.numenta.nupic.algorithms</div>
<h2 title="Class SDRClassifier" class="title">Class SDRClassifier</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.numenta.nupic.algorithms.SDRClassifier</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, <a href="../../../../org/numenta/nupic/Persistable.html" title="interface in org.numenta.nupic">Persistable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">SDRClassifier</span>
extends java.lang.Object
implements <a href="../../../../org/numenta/nupic/Persistable.html" title="interface in org.numenta.nupic">Persistable</a></pre>
<div class="block">Implementation of a SDR classifier.
 <p>
 The SDR classifier takes the form of a single layer classification network 
 that takes SDRs as input and outputs a predicted distribution of classes.
 <p>
 The SDR Classifier accepts a binary input pattern from the
 level below (the "activationPattern") and information from the sensor and
 encoders (the "classification") describing the true (target) input.
 <p>
 The SDR classifier maps input patterns to class labels. There are as many
 output units as the number of class labels or buckets (in the case of scalar
 encoders). The output is a probabilistic distribution over all class labels.
 <p>
 During inference, the output is calculated by first doing a weighted summation
 of all the inputs, and then perform a softmax nonlinear function to get
 the predicted distribution of class labels
 <p>
 During learning, the connection weights between input units and output units
 are adjusted to maximize the likelihood of the model
 <p>
 The SDR Classifier is a variation of the previous CLAClassifier which was
 not based on the references below.
 <p>
 Example Usage:

 <pre>
 <code>
 classifier = new SDRClassifier(new TIntArrayList(new int[] { 1 }), 1.0, 0.3, 0);

 // Learning:
 Map&lt;String, Object&gt; classification = new LinkedHashMap&lt;String, Object&gt;();
 classification.put("bucketIdx", 4);
 classification.put("actValue", 34.7);
 Classification&lt;Double&gt; result1 = classifier.compute(0, classification, new int[] { 1, 5, 9 }, true, false);

 // Inference:
 classification.put("bucketIdx", 4);
 classification.put("actValue", 34.7);
 Classification&lt;Double&gt; result2 = classifier.compute(0, classification, new int[] { 1, 5, 9 }, false, true);

 // Print the top prediction and its likelihood for 1 steps out:
 System.out.println("Top prediction: " + result.getMostProbableValue(1));
 </code></pre>

 References:
   Alex Graves. Supervised Sequence Labeling with Recurrent Neural Networks
   PhD Thesis, 2008
   J. S. Bridle. Probabilistic interpretation of feedforward classification
   network outputs, with relationships to statistical pattern recognition.
   In F. Fogleman-Soulie and J.Herault, editors, Neurocomputing: Algorithms,
   Architectures and Applications, pp 227-236, Springer-Verlag, 1990</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Numenta, Yuwei Cui, David Ray, Andrew Dillon</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#org.numenta.nupic.algorithms.SDRClassifier">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.List&lt;?&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#actualValues">actualValues</a></span></code>
<div class="block">This keeps track of the actual value to use for each bucket index.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#actValueAlpha">actValueAlpha</a></span></code>
<div class="block">Used to track the actual value within each
 bucket.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#alpha">alpha</a></span></code>
<div class="block">The alpha used to adapt the weight matrix during
 learning.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#g_debugPrefix">g_debugPrefix</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#learnIteration">learnIteration</a></span></code>
<div class="block">The bit's learning iteration.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#maxBucketIdx">maxBucketIdx</a></span></code>
<div class="block">This contains the value of the highest bucket index we've ever seen
 It is used to pre-allocate fixed size arrays that hold the weights of
 each bucket index during inference</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#maxInputIdx">maxInputIdx</a></span></code>
<div class="block">This contains the highest value we've ever seen from the list of active cell indexes
 from the TM (patternNZ).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/numenta/nupic/util/Deque.html" title="class in org.numenta.nupic.util">Deque</a>&lt;<a href="../../../../org/numenta/nupic/util/Tuple.html" title="class in org.numenta.nupic.util">Tuple</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#patternNZHistory">patternNZHistory</a></span></code>
<div class="block">History of the last _maxSteps activation patterns.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#recordNumMinusLearnIteration">recordNumMinusLearnIteration</a></span></code>
<div class="block">This contains the offset between the recordNum (provided by caller) and
 learnIteration (internal only, always starts at 0).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#serialVersionUID">serialVersionUID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) TIntList</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#steps">steps</a></span></code>
<div class="block">The sequence different steps of multi-step predictions</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#verbosity">verbosity</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.util.Map&lt;java.lang.Integer,FlexCompRowMatrix&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#weightMatrix">weightMatrix</a></span></code>
<div class="block">The connection weight matrix</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#SDRClassifier--">SDRClassifier</a></span>()</code>
<div class="block">SDRClassifier no-arg constructor with defaults</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#SDRClassifier-TIntList-double-double-int-">SDRClassifier</a></span>(TIntList&nbsp;steps,
             double&nbsp;alpha,
             double&nbsp;actValueAlpha,
             int&nbsp;verbosity)</code>
<div class="block">Constructor for the SDRClassifier</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,double[]&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#calculateError-java.util.Map-">calculateError</a></span>(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification)</code>
<div class="block">Calculate error signal.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;T&gt;&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms">Classification</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#compute-int-java.util.Map-int:A-boolean-boolean-">compute</a></span>(int&nbsp;recordNum,
       java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification,
       int[]&nbsp;patternNZ,
       boolean&nbsp;learn,
       boolean&nbsp;infer)</code>
<div class="block">Process one input sample.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private &lt;T&gt;&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms">Classification</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#infer-int:A-java.util.Map-">infer</a></span>(int[]&nbsp;patternNZ,
     java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification)</code>
<div class="block">Return the inference value from one input sample.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#inferSingleStep-int:A-FlexCompRowMatrix-">inferSingleStep</a></span>(int[]&nbsp;patternNZ,
               FlexCompRowMatrix&nbsp;weightMatrix)</code>
<div class="block">Perform inference for a single step.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private &lt;T&gt;&nbsp;java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/numenta/nupic/algorithms/SDRClassifier.html#pFormatArray-T:A-">pFormatArray</a></span>(T[]&nbsp;arr)</code>
<div class="block">Return a string with pretty-print of an array using the given format
 for each element</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.numenta.nupic.Persistable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.numenta.nupic.<a href="../../../../org/numenta/nupic/Persistable.html" title="interface in org.numenta.nupic">Persistable</a></h3>
<code><a href="../../../../org/numenta/nupic/Persistable.html#postDeSerialize--">postDeSerialize</a>, <a href="../../../../org/numenta/nupic/Persistable.html#postDeSerialize-T-">postDeSerialize</a>, <a href="../../../../org/numenta/nupic/Persistable.html#preSerialize--">preSerialize</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="serialVersionUID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>serialVersionUID</h4>
<pre>private static final&nbsp;long serialVersionUID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.numenta.nupic.algorithms.SDRClassifier.serialVersionUID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="verbosity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verbosity</h4>
<pre>int verbosity</pre>
</li>
</ul>
<a name="alpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>alpha</h4>
<pre>double alpha</pre>
<div class="block">The alpha used to adapt the weight matrix during
 learning. A larger alpha results in faster adaptation to the data.</div>
</li>
</ul>
<a name="actValueAlpha">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actValueAlpha</h4>
<pre>double actValueAlpha</pre>
<div class="block">Used to track the actual value within each
 bucket. A lower actValueAlpha results in longer term memory</div>
</li>
</ul>
<a name="learnIteration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>learnIteration</h4>
<pre>int learnIteration</pre>
<div class="block">The bit's learning iteration. This is updated each time store() gets
 called on this bit.</div>
</li>
</ul>
<a name="recordNumMinusLearnIteration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recordNumMinusLearnIteration</h4>
<pre>int recordNumMinusLearnIteration</pre>
<div class="block">This contains the offset between the recordNum (provided by caller) and
 learnIteration (internal only, always starts at 0).</div>
</li>
</ul>
<a name="maxInputIdx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxInputIdx</h4>
<pre>int maxInputIdx</pre>
<div class="block">This contains the highest value we've ever seen from the list of active cell indexes
 from the TM (patternNZ). It is used to pre-allocate fixed size arrays that holds the weights.</div>
</li>
</ul>
<a name="maxBucketIdx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maxBucketIdx</h4>
<pre>int maxBucketIdx</pre>
<div class="block">This contains the value of the highest bucket index we've ever seen
 It is used to pre-allocate fixed size arrays that hold the weights of
 each bucket index during inference</div>
</li>
</ul>
<a name="weightMatrix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>weightMatrix</h4>
<pre>java.util.Map&lt;java.lang.Integer,FlexCompRowMatrix&gt; weightMatrix</pre>
<div class="block">The connection weight matrix</div>
</li>
</ul>
<a name="steps">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>steps</h4>
<pre>TIntList steps</pre>
<div class="block">The sequence different steps of multi-step predictions</div>
</li>
</ul>
<a name="patternNZHistory">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>patternNZHistory</h4>
<pre><a href="../../../../org/numenta/nupic/util/Deque.html" title="class in org.numenta.nupic.util">Deque</a>&lt;<a href="../../../../org/numenta/nupic/util/Tuple.html" title="class in org.numenta.nupic.util">Tuple</a>&gt; patternNZHistory</pre>
<div class="block">History of the last _maxSteps activation patterns. We need to keep
 these so that we can associate the current iteration's classification
 with the activationPattern from N steps ago</div>
</li>
</ul>
<a name="actualValues">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>actualValues</h4>
<pre>java.util.List&lt;?&gt; actualValues</pre>
<div class="block">This keeps track of the actual value to use for each bucket index. We
 start with 1 bucket, no actual value so that the first infer has something
 to return</div>
</li>
</ul>
<a name="g_debugPrefix">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>g_debugPrefix</h4>
<pre>java.lang.String g_debugPrefix</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SDRClassifier--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SDRClassifier</h4>
<pre>public&nbsp;SDRClassifier()</pre>
<div class="block">SDRClassifier no-arg constructor with defaults</div>
</li>
</ul>
<a name="SDRClassifier-TIntList-double-double-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SDRClassifier</h4>
<pre>public&nbsp;SDRClassifier(TIntList&nbsp;steps,
                     double&nbsp;alpha,
                     double&nbsp;actValueAlpha,
                     int&nbsp;verbosity)</pre>
<div class="block">Constructor for the SDRClassifier</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>steps</code> - Sequence of the different steps of multi-step predictions to learn.</dd>
<dd><code>alpha</code> - The alpha used to adapt the weight matrix during learning. A larger alpha
                  results in faster adaptation to the data.</dd>
<dd><code>actValueAlpha</code> - Used to track the actual value withing each bucket. A lower 
                  actValueAlpha results in longer term memory.</dd>
<dd><code>verbosity</code> - Verbosity level, can be 0, 1, or 2.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="compute-int-java.util.Map-int:A-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>compute</h4>
<pre>public&nbsp;&lt;T&gt;&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms">Classification</a>&lt;T&gt;&nbsp;compute(int&nbsp;recordNum,
                                     java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification,
                                     int[]&nbsp;patternNZ,
                                     boolean&nbsp;learn,
                                     boolean&nbsp;infer)</pre>
<div class="block">Process one input sample.
 This method is called by outer loop code outside the nupic-engine. We 
 use this instead of the nupic engine compute() because our inputs and 
 outputs aren't fixed size vectors of reals.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>recordNum</code> - <p>
 Record number of this input pattern. Record numbers normally increase
 sequentially by 1 each time unless there are missing records in the
 dataset. Knowing this information ensures that we don't get confused by
 missing records.</dd>
<dd><code>classification</code> - <p>
 <code>Map</code> of the classification information:
 <p>&emsp;"bucketIdx" - index of the encoder bucket
 <p>&emsp;"actValue" -  actual value doing into the encoder</dd>
<dd><code>patternNZ</code> - <p>
 List of the active indices from the output below. When the output is from
 the TemporalMemory, this array should be the indices of the active cells.</dd>
<dd><code>learn</code> - <p>
 If true, learn this sample.</dd>
<dd><code>infer</code> - <p>
 If true, perform inference. If false, null will be returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms"><code>Classification</code></a> containing inference results if <code>learn</code> param is true,
 otherwise, will return <code>null</code>. The Classification
 contains the computed probability distribution (relative likelihood for each
 bucketIdx starting from bucketIdx 0) for each step in <code>steps</code>. Each bucket's
 likelihood can be accessed individually, or all the buckets' likelihoods can
 be obtained in the form of a double array.

 <pre><code>
 //Get likelihood val for bucket 0, 5 steps in future
 classification.getStat(5, 0);

 //Get all buckets' likelihoods as double[] where each
 //index is the likelihood for that bucket
 //(e.g. [0] contains likelihood for bucketIdx 0)
 classification.getStats(5);
 </code></pre>

 The Classification also contains the average actual value for each bucket.
 The average values for the buckets can be accessed individually, or altogether
 as a double[].

 <pre><code>
 //Get average actual val for bucket 0
 classification.getActualValue(0);

 //Get average vals for all buckets as double[], where
 //each index is the average val for that bucket
 //(e.g. [0] contains average val for bucketIdx 0)
 classification.getActualValues();
 </code></pre>

 The Classification can also be queried for the most probable bucket (the bucket
 with the highest associated likelihood value), as well as the average input value
 that corresponds to that bucket.

 <pre><code>
 //Get index of most probable bucket
 classification.getMostProbableBucketIndex();

 //Get the average actual val for that bucket
 classification.getMostProbableValue();
 </code></pre></dd>
</dl>
</li>
</ul>
<a name="infer-int:A-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>infer</h4>
<pre>private&nbsp;&lt;T&gt;&nbsp;<a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms">Classification</a>&lt;T&gt;&nbsp;infer(int[]&nbsp;patternNZ,
                                    java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification)</pre>
<div class="block">Return the inference value from one input sample. The actual learning
 happens in compute().</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>patternNZ</code> - int[] of the active indices from the output below</dd>
<dd><code>classification</code> - <code>Map</code> of the classification information:
 <p>&emsp;"bucketIdx" - index of the encoder bucket
 <p>&emsp;"actValue" -  actual value doing into the encoder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../../../../org/numenta/nupic/algorithms/Classification.html" title="class in org.numenta.nupic.algorithms"><code>Classification</code></a> containing inference results. The Classification
 contains the computed probability distribution (relative likelihood for each
 bucketIdx starting from bucketIdx 0) for each step in <code>steps</code>. The
 Classification also contains the average actual value for each bucket.</dd>
</dl>
</li>
</ul>
<a name="inferSingleStep-int:A-FlexCompRowMatrix-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inferSingleStep</h4>
<pre>private&nbsp;double[]&nbsp;inferSingleStep(int[]&nbsp;patternNZ,
                                 FlexCompRowMatrix&nbsp;weightMatrix)</pre>
<div class="block">Perform inference for a single step. Given an SDR input and a weight
 matrix, return a predicted distribution.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>patternNZ</code> - int[] of the active indices from the output below</dd>
<dd><code>weightMatrix</code> - FlexCompColMatrix weight matrix</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>double[] of the predicted class label distribution</dd>
</dl>
</li>
</ul>
<a name="calculateError-java.util.Map-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>calculateError</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,double[]&gt;&nbsp;calculateError(java.util.Map&lt;java.lang.String,java.lang.Object&gt;&nbsp;classification)</pre>
<div class="block">Calculate error signal.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>classification</code> - <code>Map</code> of the classification information:
 <p>&emsp;"bucketIdx" - index of the encoder bucket
 <p>&emsp;"actValue" -  actual value doing into the encoder</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>Map</code> containing error. The key is the number of steps. The value
 is a double[] of the error at the output layer.</dd>
</dl>
</li>
</ul>
<a name="pFormatArray-java.lang.Object:A-">
<!--   -->
</a><a name="pFormatArray-T:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>pFormatArray</h4>
<pre>private&nbsp;&lt;T&gt;&nbsp;java.lang.String&nbsp;pFormatArray(T[]&nbsp;arr)</pre>
<div class="block">Return a string with pretty-print of an array using the given format
 for each element</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>arr</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/SDRClassifier.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/numenta/nupic/algorithms/SampleTest.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/numenta/nupic/algorithms/SDRClassifierTest.html" title="class in org.numenta.nupic.algorithms"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/numenta/nupic/algorithms/SDRClassifier.html" target="_top">Frames</a></li>
<li><a href="SDRClassifier.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
